<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="A blog about software development and other random musings.">
    

    <!--Author-->
    
        <meta name="author" content="Jamie Phillips">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Using C# 6 features in Cake"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="A blog about software development and other random musings." />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Jamie Phillips"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

        <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="phillipsj73>" />
    

    <!-- Title -->
    
    <title>Using C# 6 features in Cake - Jamie Phillips</title>

    <!-- Bootstrap Core CSS -->
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet"/>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-56743201-1', 'auto');
        ga('send', 'pageview');

    </script>



</head>

<body>

    <!-- Menu -->
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Jamie Phillips</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                
                    <li>
                        <a href="/">
                            
                                Home
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/about">
                            
                                About
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/presentations">
                            
                                Presentations
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="/archives">
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li>
                        <a href="https://github.com/phillipsj">
                            
                                <i class="fa fa-github fa-stack-2x"></i>
                            
                        </a>
                    </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Main Content -->
    <!-- Page Header -->
<!-- Set your background image for this header in your post front-matter: cover -->

<header class="intro-header" style="background-image: url('http://www.phillipsj.net/img/banner.jpg')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Using C# 6 features in Cake</h1>
                    
                    <span class="meta">
                        <!-- Date and Author -->
                        
                        2016-07-25
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

            <!-- Tags and categories -->
           
                <div class="col-lg-4 col-lg-offset-2 col-md-5 col-md-offset-1 post-tags">
                    
                        


<a href="/tags/Open-Source/">#Open Source</a> <a href="/tags/Cake/">#Cake</a>


                    
                </div>
                <div class="col-lg-4 col-md-5 post-categories">
                    
                </div>
            

            <!-- Gallery -->
            

            <!-- Post Main Content -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <p>I like a lot of features available in C# 6, but my favorite is string interpolation. I think it makes ecstatically pleasing code. It is much cleaner and more expressive.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"Dave"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// String.Format example</span></span><br><span class="line"><span class="keyword">var</span> messageWithFormat = <span class="keyword">string</span>.Format(<span class="string">"I'm sorry, &#123;0&#125; I'm afraid I can't do that."</span>, name);</span><br><span class="line"></span><br><span class="line"><span class="comment">// String Interpolation</span></span><br><span class="line"><span class="keyword">var</span> messageWithInterpolation = <span class="string">$"I'm sorry, <span class="subst">&#123;name&#125;</span> I'm afraid I can't do that."</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>However, by default you cannot use string interpolation in your Cake file as those bits don’t come with Roslyn just yet. This is an extremely easy fix. All you need to do is pass the experimental flag.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ .\build.ps1 -experimental</span><br></pre></td></tr></table></figure>
<p>This just gets old and repetitive and I don’t know about you, but I like staying as close to the leading edge as possible, so I just make a small change to my bootstrapper file to always pass the experimental flag. Roughly on like 188 of your bootstrapper file, just replace the <em>$UseExperimental</em> variable with the <em>-experimental</em> flag. </p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Previous </span></span><br><span class="line"><span class="built_in">Invoke-Expression</span> <span class="string">"&amp; `"<span class="variable">$CAKE_EXE</span>`" `"<span class="variable">$Script</span>`" -target=`"<span class="variable">$Target</span>`" -configuration=`"<span class="variable">$Configuration</span>`" -verbosity=`"<span class="variable">$Verbosity</span>`" <span class="variable">$UseMono</span> <span class="variable">$UseDryRun</span> <span class="variable">$UseExperimental</span> <span class="variable">$ScriptArgs</span>"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Altered</span></span><br><span class="line"><span class="built_in">Invoke-Expression</span> <span class="string">"&amp; `"<span class="variable">$CAKE_EXE</span>`" `"<span class="variable">$Script</span>`" -target=`"<span class="variable">$Target</span>`" -configuration=`"<span class="variable">$Configuration</span>`" -verbosity=`"<span class="variable">$Verbosity</span>`" <span class="variable">$UseMono</span> <span class="variable">$UseDryRun</span> -experimental <span class="variable">$ScriptArgs</span>"</span></span><br></pre></td></tr></table></figure>
<p>Now you can make your Cake even more elegant, in my opinion. Here are a few examples of places that string interpolation can be used that I enjoy.</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// Before</span></span><br><span class="line">Fixie(<span class="string">"./src/\**/bin/"</span> + configuration + <span class="string">"/*.Tests.dll"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// After</span></span><br><span class="line">Fixie(<span class="string">$"./src/\**/bin/<span class="subst">&#123;configuration&#125;</span>/*.Tests.dll"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Before</span></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> DirectoryNotFoundException(</span><br><span class="line">        <span class="keyword">string</span>.Format(</span><br><span class="line">            <span class="string">"Deployment target directory not found &#123;0&#125;"</span>,</span><br><span class="line">            deploymentPath</span><br><span class="line">            )</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line"><span class="comment">// After</span></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> DirectoryNotFoundException(</span><br><span class="line">            <span class="string">$"Deployment target directory not found <span class="subst">&#123;deploymentPath&#125;</span>"</span></span><br><span class="line">            )</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Thanks for reading.</p>


                
            </div>

            <!-- Comments -->
            
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    


                </div>
            
        </div>
    </div>
</article>

    <!-- Footer -->
    <hr />

<!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                        <li>
                            <a href="https://twitter.com/phillipsj73" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    

                    
                        <li>
                            <a href="https://github.com/phillipsj" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                        <li>
                            <a href="https://www.linkedin.com/in/jamie-phillips-695927b0" target="_blank">
                                <span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    

                    
                </ul>
                <p class="copyright text-muted">&copy; Copyright 2016, Jamie Phillips. Powered by <a target="_blank" href="https://hexo.io/">Hexo</a></p>
            </div>
        </div>
    </div>
</footer>


    <!-- After footer scripts -->
    
<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Bootstrap -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->


</body>

</html>